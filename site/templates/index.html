{% extends "base.html" %}
{% block title %}Config{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important {
            color: #336699;
        }
    </style>
{% endblock %}

{% block heading %}
    <h1 class="display-1">{{ hostname }}</h1>
{% endblock %}

{% block content %}


<div>
    Upload and apply local config file:
    <form action="" method=post enctype=multipart/form-data>
    <input class="form-control form-control" id="configUpload" type="file" name=file>
    <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#uploadConfig">Upload</button>
</div>
  
  <!-- Modal -->
  <div class="modal fade" id="uploadConfig" tabindex="-1" aria-labelledby="uploadConfigLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="uploadConfigLabel">Confirm config upload</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <p>You are about to upload a new config file to Signifier "{{ hostname }}". This may disrupt its activity shortly. Invalid JSON formatting can cause the Signifier to fail, which may require a hardware restart.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <input class="btn btn-primary" type="submit" value="Upload">
        </div>
      </div>
    </div>
  </div>



</div>

<div class="spacer"></div>

<div class="container">
    Download IN-USE config file from {{ HOSTNAME }}:
    <div class="row row-cols-3">
        <div class="col"><a class="btn btn-primary" href="/download/config.json" role="button">config.json</a></div>
        <div class="col"><a class="btn btn-primary" href="/download/values.json" role="button">values.json</a></div>
        <div class="col"><a class="btn btn-primary" href="/download/rules.json" role="button">rules.json</a></div>
    </div>
</div>


<div class="spacer"></div>

<div class="container">
    Download DEFAULT config file from {{ HOSTNAME }}:
    <div class="row row-cols-3">
        <div class="col"><a class="btn btn-warning" href="/download_default/config.json" role="button">config.json</a></div>
        <div class="col"><a class="btn btn-warning" href="/download_default/values.json" role="button">values.json</a></div>
        <div class="col"><a class="btn btn-warning" href="/download_default/rules.json" role="button">rules.json</a></div>
    </div>
</div>


<div class="spacer"></div>
<div class="spacer"></div>

<div class="container">
<button class="btn btn-danger" type="button" data-bs-toggle="modal" data-bs-target="#restartSignifier">Restart Signifier</button>

  <!-- Modal -->
  <div class="modal fade" id="restartSignifier" tabindex="-1" aria-labelledby="restartSignifierLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="restartSignifierLabel">Restart Signifier?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <p>You are about to restart the Rapsberry Pi "{{ hostname }}". Are you sure you want to continue?</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <a class="btn btn-danger" href="/restart_signifier" role="button">Restart</a></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="spacer"></div>



{% endblock %}
